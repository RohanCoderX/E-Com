{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.227.0"},"children":{"ECommerceStack":{"id":"ECommerceStack","path":"ECommerceStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.227.0"},"children":{"ProductsTable":{"id":"ProductsTable","path":"ECommerceStack/ProductsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ProductsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"productId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"productId","keyType":"HASH"}],"tableName":"products"}}},"ScalingRole":{"id":"ScalingRole","path":"ECommerceStack/ProductsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}}}},"OrdersTable":{"id":"OrdersTable","path":"ECommerceStack/OrdersTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/OrdersTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"orderId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"orderId","keyType":"HASH"}],"streamSpecification":{"streamViewType":"NEW_AND_OLD_IMAGES"},"tableName":"ecommerce-orders"}}},"ScalingRole":{"id":"ScalingRole","path":"ECommerceStack/OrdersTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}}}},"OrderNotificationTopic":{"id":"OrderNotificationTopic","path":"ECommerceStack/OrderNotificationTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/OrderNotificationTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"topicName":"order-notifications"}}}}},"EmailIdentity":{"id":"EmailIdentity","path":"ECommerceStack/EmailIdentity","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.EmailIdentity","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/EmailIdentity/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.CfnEmailIdentity","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SES::EmailIdentity","aws:cdk:cloudformation:props":{"emailIdentity":"noreply@example.com"}}}}},"WebsiteBucket":{"id":"WebsiteBucket","path":"ECommerceStack/WebsiteBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/WebsiteBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"ecommerce-website-016430248234-us-west-2","publicAccessBlockConfiguration":{"blockPublicAcls":true,"ignorePublicAcls":true},"tags":[{"key":"aws-cdk:cr-owned:84f78276","value":"true"}],"websiteConfiguration":{"indexDocument":"index.html"}}}},"Policy":{"id":"Policy","path":"ECommerceStack/WebsiteBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/WebsiteBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"WebsiteBucket75C24D94"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"AWS":"*"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"ProductImagesBucket":{"id":"ProductImagesBucket","path":"ECommerceStack/ProductImagesBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ProductImagesBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"ecommerce-images-016430248234-us-west-2","corsConfiguration":{"corsRules":[{"allowedHeaders":["*"],"allowedMethods":["GET","PUT","POST"],"allowedOrigins":["*"]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"ignorePublicAcls":true}}}},"Policy":{"id":"Policy","path":"ECommerceStack/ProductImagesBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ProductImagesBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"ProductImagesBucket03BDA4C8"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"AWS":"*"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["ProductImagesBucket03BDA4C8","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"ProductsFunction":{"id":"ProductsFunction","path":"ECommerceStack/ProductsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.227.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ECommerceStack/ProductsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.227.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ECommerceStack/ProductsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}},"Resource":{"id":"Resource","path":"ECommerceStack/ProductsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ECommerceStack/ProductsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ProductsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ProductsTable241ADBFF","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ProductImagesBucket03BDA4C8","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ProductImagesBucket03BDA4C8","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"ProductsFunctionServiceRoleDefaultPolicy556B46E3","roles":[{"Ref":"ProductsFunctionServiceRole8A7C6128"}]}}}}}}},"Code":{"id":"Code","path":"ECommerceStack/ProductsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.227.0"},"children":{"Stage":{"id":"Stage","path":"ECommerceStack/ProductsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.227.0"}},"AssetBucket":{"id":"AssetBucket","path":"ECommerceStack/ProductsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.227.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/ProductsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-016430248234-us-west-2","s3Key":"41fc18ca57c4290bf2d25466451d918c594bf0478505bd9439be02eaaf0cc0af.zip"},"environment":{"variables":{"PRODUCTS_TABLE":{"Ref":"ProductsTable241ADBFF"},"IMAGES_BUCKET":{"Ref":"ProductImagesBucket03BDA4C8"}}},"handler":"products.handler","role":{"Fn::GetAtt":["ProductsFunctionServiceRole8A7C6128","Arn"]},"runtime":"python3.11"}}}}},"OrdersFunction":{"id":"OrdersFunction","path":"ECommerceStack/OrdersFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.227.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ECommerceStack/OrdersFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.227.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ECommerceStack/OrdersFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}},"Resource":{"id":"Resource","path":"ECommerceStack/OrdersFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ECommerceStack/OrdersFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/OrdersFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["OrdersTable315BB997","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ProductsTable241ADBFF","Arn"]}},{"Action":"sns:Publish","Effect":"Allow","Resource":{"Ref":"OrderNotificationTopicC07D7EFC"}},{"Action":"ses:VerifyEmailIdentity","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"OrdersFunctionServiceRoleDefaultPolicyE0D62EE3","roles":[{"Ref":"OrdersFunctionServiceRoleA7C5E86F"}]}}}}}}},"Code":{"id":"Code","path":"ECommerceStack/OrdersFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.227.0"},"children":{"Stage":{"id":"Stage","path":"ECommerceStack/OrdersFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.227.0"}},"AssetBucket":{"id":"AssetBucket","path":"ECommerceStack/OrdersFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.227.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/OrdersFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-016430248234-us-west-2","s3Key":"41fc18ca57c4290bf2d25466451d918c594bf0478505bd9439be02eaaf0cc0af.zip"},"environment":{"variables":{"ORDERS_TABLE":{"Ref":"OrdersTable315BB997"},"PRODUCTS_TABLE":{"Ref":"ProductsTable241ADBFF"},"NOTIFICATION_TOPIC_ARN":{"Ref":"OrderNotificationTopicC07D7EFC"}}},"handler":"orders.handler","role":{"Fn::GetAtt":["OrdersFunctionServiceRoleA7C5E86F","Arn"]},"runtime":"python3.11"}}}}},"EmailNotificationFunction":{"id":"EmailNotificationFunction","path":"ECommerceStack/EmailNotificationFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.227.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ECommerceStack/EmailNotificationFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.227.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ECommerceStack/EmailNotificationFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}},"Resource":{"id":"Resource","path":"ECommerceStack/EmailNotificationFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ECommerceStack/EmailNotificationFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/EmailNotificationFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ses:SendEmail","ses:SendRawEmail"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"EmailNotificationFunctionServiceRoleDefaultPolicy8C3B5860","roles":[{"Ref":"EmailNotificationFunctionServiceRole734D3947"}]}}}}}}},"Code":{"id":"Code","path":"ECommerceStack/EmailNotificationFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.227.0"},"children":{"Stage":{"id":"Stage","path":"ECommerceStack/EmailNotificationFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.227.0"}},"AssetBucket":{"id":"AssetBucket","path":"ECommerceStack/EmailNotificationFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.227.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/EmailNotificationFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-016430248234-us-west-2","s3Key":"41fc18ca57c4290bf2d25466451d918c594bf0478505bd9439be02eaaf0cc0af.zip"},"environment":{"variables":{"FROM_EMAIL":"noreply@example.com"}},"handler":"email_notifications.handler","role":{"Fn::GetAtt":["EmailNotificationFunctionServiceRole734D3947","Arn"]},"runtime":"python3.11"}}},"AllowInvoke:ECommerceStackOrderNotificationTopic278010E8":{"id":"AllowInvoke:ECommerceStackOrderNotificationTopic278010E8","path":"ECommerceStack/EmailNotificationFunction/AllowInvoke:ECommerceStackOrderNotificationTopic278010E8","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["EmailNotificationFunction9A255479","Arn"]},"principal":"sns.amazonaws.com","sourceArn":{"Ref":"OrderNotificationTopicC07D7EFC"}}}},"OrderNotificationTopic":{"id":"OrderNotificationTopic","path":"ECommerceStack/EmailNotificationFunction/OrderNotificationTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/EmailNotificationFunction/OrderNotificationTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":{"Fn::GetAtt":["EmailNotificationFunction9A255479","Arn"]},"protocol":"lambda","topicArn":{"Ref":"OrderNotificationTopicC07D7EFC"}}}}}}}},"OrderStatusProcessor":{"id":"OrderStatusProcessor","path":"ECommerceStack/OrderStatusProcessor","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.227.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ECommerceStack/OrderStatusProcessor/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.227.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ECommerceStack/OrderStatusProcessor/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}},"Resource":{"id":"Resource","path":"ECommerceStack/OrderStatusProcessor/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ECommerceStack/OrderStatusProcessor/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/OrderStatusProcessor/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"dynamodb:ListStreams","Effect":"Allow","Resource":"*"},{"Action":["dynamodb:DescribeStream","dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::GetAtt":["OrdersTable315BB997","StreamArn"]}},{"Action":"sns:Publish","Effect":"Allow","Resource":{"Ref":"OrderNotificationTopicC07D7EFC"}}],"Version":"2012-10-17"},"policyName":"OrderStatusProcessorServiceRoleDefaultPolicy95C921D2","roles":[{"Ref":"OrderStatusProcessorServiceRoleB6BD0068"}]}}}}}}},"Code":{"id":"Code","path":"ECommerceStack/OrderStatusProcessor/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.227.0"},"children":{"Stage":{"id":"Stage","path":"ECommerceStack/OrderStatusProcessor/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.227.0"}},"AssetBucket":{"id":"AssetBucket","path":"ECommerceStack/OrderStatusProcessor/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.227.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/OrderStatusProcessor/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-016430248234-us-west-2","s3Key":"41fc18ca57c4290bf2d25466451d918c594bf0478505bd9439be02eaaf0cc0af.zip"},"environment":{"variables":{"NOTIFICATION_TOPIC_ARN":{"Ref":"OrderNotificationTopicC07D7EFC"}}},"handler":"order_status_processor.handler","role":{"Fn::GetAtt":["OrderStatusProcessorServiceRoleB6BD0068","Arn"]},"runtime":"python3.11"}}},"DynamoDBEventSource:ECommerceStackOrdersTable99B90FEE":{"id":"DynamoDBEventSource:ECommerceStackOrdersTable99B90FEE","path":"ECommerceStack/OrderStatusProcessor/DynamoDBEventSource:ECommerceStackOrdersTable99B90FEE","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/OrderStatusProcessor/DynamoDBEventSource:ECommerceStackOrdersTable99B90FEE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"batchSize":100,"eventSourceArn":{"Fn::GetAtt":["OrdersTable315BB997","StreamArn"]},"functionName":{"Ref":"OrderStatusProcessorE4977B2E"},"startingPosition":"LATEST"}}}}}}},"OrderSimulator":{"id":"OrderSimulator","path":"ECommerceStack/OrderSimulator","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.227.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ECommerceStack/OrderSimulator/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.227.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ECommerceStack/OrderSimulator/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}},"Resource":{"id":"Resource","path":"ECommerceStack/OrderSimulator/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ECommerceStack/OrderSimulator/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/OrderSimulator/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["OrdersTable315BB997","Arn"]}}],"Version":"2012-10-17"},"policyName":"OrderSimulatorServiceRoleDefaultPolicy25C8C1B3","roles":[{"Ref":"OrderSimulatorServiceRole9C28FB72"}]}}}}}}},"Code":{"id":"Code","path":"ECommerceStack/OrderSimulator/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.227.0"},"children":{"Stage":{"id":"Stage","path":"ECommerceStack/OrderSimulator/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.227.0"}},"AssetBucket":{"id":"AssetBucket","path":"ECommerceStack/OrderSimulator/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.227.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/OrderSimulator/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-016430248234-us-west-2","s3Key":"41fc18ca57c4290bf2d25466451d918c594bf0478505bd9439be02eaaf0cc0af.zip"},"environment":{"variables":{"ORDERS_TABLE":{"Ref":"OrdersTable315BB997"}}},"handler":"order_simulator.handler","role":{"Fn::GetAtt":["OrderSimulatorServiceRole9C28FB72","Arn"]},"runtime":"python3.11"}}}}},"EmailVerifier":{"id":"EmailVerifier","path":"ECommerceStack/EmailVerifier","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.227.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ECommerceStack/EmailVerifier/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.227.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ECommerceStack/EmailVerifier/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}},"Resource":{"id":"Resource","path":"ECommerceStack/EmailVerifier/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ECommerceStack/EmailVerifier/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/EmailVerifier/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ses:VerifyEmailIdentity","ses:ListIdentities"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"EmailVerifierServiceRoleDefaultPolicy13DC76E5","roles":[{"Ref":"EmailVerifierServiceRoleAEFD71B6"}]}}}}}}},"Code":{"id":"Code","path":"ECommerceStack/EmailVerifier/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.227.0"},"children":{"Stage":{"id":"Stage","path":"ECommerceStack/EmailVerifier/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.227.0"}},"AssetBucket":{"id":"AssetBucket","path":"ECommerceStack/EmailVerifier/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.227.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/EmailVerifier/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-016430248234-us-west-2","s3Key":"41fc18ca57c4290bf2d25466451d918c594bf0478505bd9439be02eaaf0cc0af.zip"},"handler":"email_verifier.handler","role":{"Fn::GetAtt":["EmailVerifierServiceRoleAEFD71B6","Arn"]},"runtime":"python3.11"}}}}},"AutoEmailVerifier":{"id":"AutoEmailVerifier","path":"ECommerceStack/AutoEmailVerifier","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.227.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ECommerceStack/AutoEmailVerifier/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.227.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ECommerceStack/AutoEmailVerifier/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}},"Resource":{"id":"Resource","path":"ECommerceStack/AutoEmailVerifier/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ECommerceStack/AutoEmailVerifier/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/AutoEmailVerifier/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ses:VerifyEmailIdentity","ses:ListIdentities"],"Effect":"Allow","Resource":"*"},{"Action":"dynamodb:ListStreams","Effect":"Allow","Resource":"*"},{"Action":["dynamodb:DescribeStream","dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::GetAtt":["OrdersTable315BB997","StreamArn"]}}],"Version":"2012-10-17"},"policyName":"AutoEmailVerifierServiceRoleDefaultPolicy06DF49BE","roles":[{"Ref":"AutoEmailVerifierServiceRole4A395BC9"}]}}}}}}},"Code":{"id":"Code","path":"ECommerceStack/AutoEmailVerifier/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.227.0"},"children":{"Stage":{"id":"Stage","path":"ECommerceStack/AutoEmailVerifier/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.227.0"}},"AssetBucket":{"id":"AssetBucket","path":"ECommerceStack/AutoEmailVerifier/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.227.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/AutoEmailVerifier/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-016430248234-us-west-2","s3Key":"41fc18ca57c4290bf2d25466451d918c594bf0478505bd9439be02eaaf0cc0af.zip"},"handler":"auto_email_verifier.handler","role":{"Fn::GetAtt":["AutoEmailVerifierServiceRole4A395BC9","Arn"]},"runtime":"python3.11"}}},"DynamoDBEventSource:ECommerceStackOrdersTable99B90FEE":{"id":"DynamoDBEventSource:ECommerceStackOrdersTable99B90FEE","path":"ECommerceStack/AutoEmailVerifier/DynamoDBEventSource:ECommerceStackOrdersTable99B90FEE","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/AutoEmailVerifier/DynamoDBEventSource:ECommerceStackOrdersTable99B90FEE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"batchSize":100,"eventSourceArn":{"Fn::GetAtt":["OrdersTable315BB997","StreamArn"]},"filterCriteria":{"filters":[{"pattern":"{\"eventName\":[\"INSERT\"]}"}]},"functionName":{"Ref":"AutoEmailVerifierCEF01281"},"startingPosition":"LATEST"}}}}}}},"EmailStatusChecker":{"id":"EmailStatusChecker","path":"ECommerceStack/EmailStatusChecker","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.227.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ECommerceStack/EmailStatusChecker/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.227.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ECommerceStack/EmailStatusChecker/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}},"Resource":{"id":"Resource","path":"ECommerceStack/EmailStatusChecker/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ECommerceStack/EmailStatusChecker/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/EmailStatusChecker/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"ses:GetIdentityVerificationAttributes","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"EmailStatusCheckerServiceRoleDefaultPolicyE87811A6","roles":[{"Ref":"EmailStatusCheckerServiceRole1E4C26BF"}]}}}}}}},"Code":{"id":"Code","path":"ECommerceStack/EmailStatusChecker/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.227.0"},"children":{"Stage":{"id":"Stage","path":"ECommerceStack/EmailStatusChecker/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.227.0"}},"AssetBucket":{"id":"AssetBucket","path":"ECommerceStack/EmailStatusChecker/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.227.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/EmailStatusChecker/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-016430248234-us-west-2","s3Key":"41fc18ca57c4290bf2d25466451d918c594bf0478505bd9439be02eaaf0cc0af.zip"},"handler":"email_status_checker.handler","role":{"Fn::GetAtt":["EmailStatusCheckerServiceRole1E4C26BF","Arn"]},"runtime":"python3.11"}}}}},"ImageUploader":{"id":"ImageUploader","path":"ECommerceStack/ImageUploader","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.227.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ECommerceStack/ImageUploader/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.227.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ECommerceStack/ImageUploader/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}},"Resource":{"id":"Resource","path":"ECommerceStack/ImageUploader/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ECommerceStack/ImageUploader/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ImageUploader/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ProductImagesBucket03BDA4C8","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ProductImagesBucket03BDA4C8","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"ImageUploaderServiceRoleDefaultPolicyD25D82B9","roles":[{"Ref":"ImageUploaderServiceRoleE36075B4"}]}}}}}}},"Code":{"id":"Code","path":"ECommerceStack/ImageUploader/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.227.0"},"children":{"Stage":{"id":"Stage","path":"ECommerceStack/ImageUploader/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.227.0"}},"AssetBucket":{"id":"AssetBucket","path":"ECommerceStack/ImageUploader/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.227.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/ImageUploader/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-016430248234-us-west-2","s3Key":"41fc18ca57c4290bf2d25466451d918c594bf0478505bd9439be02eaaf0cc0af.zip"},"environment":{"variables":{"IMAGES_BUCKET":{"Ref":"ProductImagesBucket03BDA4C8"}}},"handler":"image_uploader.handler","role":{"Fn::GetAtt":["ImageUploaderServiceRoleE36075B4","Arn"]},"runtime":"python3.11"}}}}},"UserManager":{"id":"UserManager","path":"ECommerceStack/UserManager","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.227.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ECommerceStack/UserManager/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.227.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ECommerceStack/UserManager/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}},"Resource":{"id":"Resource","path":"ECommerceStack/UserManager/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"ECommerceStack/UserManager/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.227.0"},"children":{"Stage":{"id":"Stage","path":"ECommerceStack/UserManager/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.227.0"}},"AssetBucket":{"id":"AssetBucket","path":"ECommerceStack/UserManager/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.227.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/UserManager/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-016430248234-us-west-2","s3Key":"41fc18ca57c4290bf2d25466451d918c594bf0478505bd9439be02eaaf0cc0af.zip"},"handler":"user_manager.handler","role":{"Fn::GetAtt":["UserManagerServiceRole1FB9AE61","Arn"]},"runtime":"python3.11"}}}}},"ECommerceApi":{"id":"ECommerceApi","path":"ECommerceStack/ECommerceApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"E-Commerce API"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"ECommerceStack/ECommerceApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.227.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"ECommerceStack/ECommerceApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}},"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"ECommerceStack/ECommerceApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["ECommerceApiCloudWatchRoleA0000002","Arn"]}}}},"Deployment":{"id":"Deployment","path":"ECommerceStack/ECommerceApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"ECommerceStack/ECommerceApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"ECommerceApiDeploymentC537DBB691564cb2b8e377d300f9f1580cece278"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"ECommerceStack/ECommerceApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.227.0"}},"Default":{"id":"Default","path":"ECommerceStack/ECommerceApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.227.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"ECommerceStack/ECommerceApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["ECommerceApiE79CFB4A","RootResourceId"]},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}},"products":{"id":"products","path":"ECommerceStack/ECommerceApi/Default/products","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/products/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ECommerceApiE79CFB4A","RootResourceId"]},"pathPart":"products","restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}},"OPTIONS":{"id":"OPTIONS","path":"ECommerceStack/ECommerceApi/Default/products/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/products/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"ECommerceApiproducts320180E3"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}},"GET":{"id":"GET","path":"ECommerceStack/ECommerceApi/Default/products/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"ApiPermission.ECommerceStackECommerceApi87B1DA2C.GET..products":{"id":"ApiPermission.ECommerceStackECommerceApi87B1DA2C.GET..products","path":"ECommerceStack/ECommerceApi/Default/products/GET/ApiPermission.ECommerceStackECommerceApi87B1DA2C.GET..products","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ProductsFunctionFE1C163A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/",{"Ref":"ECommerceApiDeploymentStageprod34BEADF8"},"/GET/products"]]}}}},"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.GET..products":{"id":"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.GET..products","path":"ECommerceStack/ECommerceApi/Default/products/GET/ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.GET..products","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ProductsFunctionFE1C163A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/test-invoke-stage/GET/products"]]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/products/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-west-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ProductsFunctionFE1C163A","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ECommerceApiproducts320180E3"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}},"POST":{"id":"POST","path":"ECommerceStack/ECommerceApi/Default/products/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..products":{"id":"ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..products","path":"ECommerceStack/ECommerceApi/Default/products/POST/ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..products","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ProductsFunctionFE1C163A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/",{"Ref":"ECommerceApiDeploymentStageprod34BEADF8"},"/POST/products"]]}}}},"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..products":{"id":"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..products","path":"ECommerceStack/ECommerceApi/Default/products/POST/ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..products","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ProductsFunctionFE1C163A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/test-invoke-stage/POST/products"]]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/products/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-west-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ProductsFunctionFE1C163A","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ECommerceApiproducts320180E3"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}}}},"orders":{"id":"orders","path":"ECommerceStack/ECommerceApi/Default/orders","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/orders/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ECommerceApiE79CFB4A","RootResourceId"]},"pathPart":"orders","restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}},"OPTIONS":{"id":"OPTIONS","path":"ECommerceStack/ECommerceApi/Default/orders/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/orders/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"ECommerceApiorders2C7B5D79"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}},"POST":{"id":"POST","path":"ECommerceStack/ECommerceApi/Default/orders/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..orders":{"id":"ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..orders","path":"ECommerceStack/ECommerceApi/Default/orders/POST/ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["OrdersFunctionC129706A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/",{"Ref":"ECommerceApiDeploymentStageprod34BEADF8"},"/POST/orders"]]}}}},"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..orders":{"id":"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..orders","path":"ECommerceStack/ECommerceApi/Default/orders/POST/ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["OrdersFunctionC129706A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/test-invoke-stage/POST/orders"]]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/orders/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-west-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["OrdersFunctionC129706A","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ECommerceApiorders2C7B5D79"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}},"GET":{"id":"GET","path":"ECommerceStack/ECommerceApi/Default/orders/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"ApiPermission.ECommerceStackECommerceApi87B1DA2C.GET..orders":{"id":"ApiPermission.ECommerceStackECommerceApi87B1DA2C.GET..orders","path":"ECommerceStack/ECommerceApi/Default/orders/GET/ApiPermission.ECommerceStackECommerceApi87B1DA2C.GET..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["OrdersFunctionC129706A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/",{"Ref":"ECommerceApiDeploymentStageprod34BEADF8"},"/GET/orders"]]}}}},"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.GET..orders":{"id":"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.GET..orders","path":"ECommerceStack/ECommerceApi/Default/orders/GET/ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.GET..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["OrdersFunctionC129706A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/test-invoke-stage/GET/orders"]]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/orders/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-west-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["OrdersFunctionC129706A","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ECommerceApiorders2C7B5D79"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}}}},"verify-email":{"id":"verify-email","path":"ECommerceStack/ECommerceApi/Default/verify-email","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/verify-email/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ECommerceApiE79CFB4A","RootResourceId"]},"pathPart":"verify-email","restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}},"OPTIONS":{"id":"OPTIONS","path":"ECommerceStack/ECommerceApi/Default/verify-email/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/verify-email/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"ECommerceApiverifyemailEA39B632"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}},"POST":{"id":"POST","path":"ECommerceStack/ECommerceApi/Default/verify-email/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..verify-email":{"id":"ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..verify-email","path":"ECommerceStack/ECommerceApi/Default/verify-email/POST/ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..verify-email","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["EmailVerifierCEE9E6F4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/",{"Ref":"ECommerceApiDeploymentStageprod34BEADF8"},"/POST/verify-email"]]}}}},"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..verify-email":{"id":"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..verify-email","path":"ECommerceStack/ECommerceApi/Default/verify-email/POST/ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..verify-email","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["EmailVerifierCEE9E6F4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/test-invoke-stage/POST/verify-email"]]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/verify-email/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-west-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["EmailVerifierCEE9E6F4","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ECommerceApiverifyemailEA39B632"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}}}},"email-status":{"id":"email-status","path":"ECommerceStack/ECommerceApi/Default/email-status","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/email-status/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ECommerceApiE79CFB4A","RootResourceId"]},"pathPart":"email-status","restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}},"OPTIONS":{"id":"OPTIONS","path":"ECommerceStack/ECommerceApi/Default/email-status/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/email-status/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"ECommerceApiemailstatusDAB18AC7"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}},"POST":{"id":"POST","path":"ECommerceStack/ECommerceApi/Default/email-status/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..email-status":{"id":"ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..email-status","path":"ECommerceStack/ECommerceApi/Default/email-status/POST/ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..email-status","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["EmailStatusCheckerB6AC5777","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/",{"Ref":"ECommerceApiDeploymentStageprod34BEADF8"},"/POST/email-status"]]}}}},"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..email-status":{"id":"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..email-status","path":"ECommerceStack/ECommerceApi/Default/email-status/POST/ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..email-status","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["EmailStatusCheckerB6AC5777","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/test-invoke-stage/POST/email-status"]]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/email-status/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-west-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["EmailStatusCheckerB6AC5777","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ECommerceApiemailstatusDAB18AC7"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}}}},"upload-image":{"id":"upload-image","path":"ECommerceStack/ECommerceApi/Default/upload-image","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/upload-image/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ECommerceApiE79CFB4A","RootResourceId"]},"pathPart":"upload-image","restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}},"OPTIONS":{"id":"OPTIONS","path":"ECommerceStack/ECommerceApi/Default/upload-image/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/upload-image/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"ECommerceApiuploadimage1839C2A7"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}},"POST":{"id":"POST","path":"ECommerceStack/ECommerceApi/Default/upload-image/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..upload-image":{"id":"ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..upload-image","path":"ECommerceStack/ECommerceApi/Default/upload-image/POST/ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..upload-image","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ImageUploader48358202","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/",{"Ref":"ECommerceApiDeploymentStageprod34BEADF8"},"/POST/upload-image"]]}}}},"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..upload-image":{"id":"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..upload-image","path":"ECommerceStack/ECommerceApi/Default/upload-image/POST/ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..upload-image","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ImageUploader48358202","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/test-invoke-stage/POST/upload-image"]]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/upload-image/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-west-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ImageUploader48358202","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ECommerceApiuploadimage1839C2A7"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}}}},"auth":{"id":"auth","path":"ECommerceStack/ECommerceApi/Default/auth","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/auth/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ECommerceApiE79CFB4A","RootResourceId"]},"pathPart":"auth","restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}},"OPTIONS":{"id":"OPTIONS","path":"ECommerceStack/ECommerceApi/Default/auth/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/auth/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"ECommerceApiauth25FA709A"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}},"POST":{"id":"POST","path":"ECommerceStack/ECommerceApi/Default/auth/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.227.0","metadata":[]},"children":{"ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..auth":{"id":"ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..auth","path":"ECommerceStack/ECommerceApi/Default/auth/POST/ApiPermission.ECommerceStackECommerceApi87B1DA2C.POST..auth","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UserManager2108E726","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/",{"Ref":"ECommerceApiDeploymentStageprod34BEADF8"},"/POST/auth"]]}}}},"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..auth":{"id":"ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..auth","path":"ECommerceStack/ECommerceApi/Default/auth/POST/ApiPermission.Test.ECommerceStackECommerceApi87B1DA2C.POST..auth","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UserManager2108E726","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:016430248234:",{"Ref":"ECommerceApiE79CFB4A"},"/test-invoke-stage/POST/auth"]]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/ECommerceApi/Default/auth/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-west-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["UserManager2108E726","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ECommerceApiauth25FA709A"},"restApiId":{"Ref":"ECommerceApiE79CFB4A"}}}}}}}}}}}},"DeployWebsite":{"id":"DeployWebsite","path":"ECommerceStack/DeployWebsite","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.227.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"ECommerceStack/DeployWebsite/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.227.0","metadata":[]},"children":{"Code":{"id":"Code","path":"ECommerceStack/DeployWebsite/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.227.0"},"children":{"Stage":{"id":"Stage","path":"ECommerceStack/DeployWebsite/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.227.0"}},"AssetBucket":{"id":"AssetBucket","path":"ECommerceStack/DeployWebsite/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.227.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/DeployWebsite/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-016430248234-us-west-2","s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"ECommerceStack/DeployWebsite/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.227.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"ECommerceStack/DeployWebsite/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.227.0"},"children":{"Stage":{"id":"Stage","path":"ECommerceStack/DeployWebsite/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.227.0"}},"AssetBucket":{"id":"AssetBucket","path":"ECommerceStack/DeployWebsite/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.227.0","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"ECommerceStack/DeployWebsite/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.227.0","metadata":[]},"children":{"Default":{"id":"Default","path":"ECommerceStack/DeployWebsite/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.227.0"}}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","path":"ECommerceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.227.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ECommerceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.227.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ECommerceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.227.0","metadata":[]}},"Resource":{"id":"Resource","path":"ECommerceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ECommerceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.227.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ECommerceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-016430248234-us-west-2"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-016430248234-us-west-2/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"}]}}}}}}},"Code":{"id":"Code","path":"ECommerceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.227.0"},"children":{"Stage":{"id":"Stage","path":"ECommerceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.227.0"}},"AssetBucket":{"id":"AssetBucket","path":"ECommerceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.227.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ECommerceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.227.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-016430248234-us-west-2","s3Key":"3423a042b818e31c1e34a19d6689ab2e5f9b70fcbe9e71df66f241b20a200bd9.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"DeployWebsiteAwsCliLayer17DBC421"}],"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265","Arn"]},"runtime":"python3.13","timeout":900}}}}},"WebsiteURL":{"id":"WebsiteURL","path":"ECommerceStack/WebsiteURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.227.0"}},"ImagesURL":{"id":"ImagesURL","path":"ECommerceStack/ImagesURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.227.0"}},"ApiURL":{"id":"ApiURL","path":"ECommerceStack/ApiURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.227.0"}},"OrderSimulatorFunction":{"id":"OrderSimulatorFunction","path":"ECommerceStack/OrderSimulatorFunction","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.227.0"}},"EmailVerifierFunction":{"id":"EmailVerifierFunction","path":"ECommerceStack/EmailVerifierFunction","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.227.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"ECommerceStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"ECommerceStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.227.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ECommerceStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.227.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ECommerceStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.227.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}}}}}